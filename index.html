<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë“€ë©”ì´ì»¤ ê°•ì‚¬ê´€ë¦¬ì‹œìŠ¤í…œ</title>
    <style>
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e9f2 100%);
            display: flex;
            flex-direction: column; 
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }
        .login-container {
            background-color: #ffffff;
            padding: 50px 40px;
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.06);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }
        .logo { font-size: 32px; font-weight: 900; color: #0056b3; margin-bottom: 8px; letter-spacing: -1.5px; text-transform: uppercase; }
        .sub-title { font-size: 15px; color: #868e96; margin-bottom: 40px; font-weight: 500; }
        .input-group { text-align: left; margin-bottom: 20px; }
        label { display: block; font-size: 13px; font-weight: 700; color: #495057; margin-bottom: 8px; margin-left: 4px; }
        input { width: 100%; padding: 14px 16px; border: 1px solid #dee2e6; border-radius: 12px; font-size: 15px; box-sizing: border-box; transition: all 0.2s; background-color: #f8f9fa; }
        input:focus { outline: none; border-color: #0056b3; background-color: #fff; box-shadow: 0 0 0 4px rgba(0, 86, 179, 0.1); }
        
        .btn-group { margin-top: 32px; }
        button { width: 100%; padding: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.2s ease; }
        .btn-login { background-color: #0056b3; color: white; margin-bottom: 12px; box-shadow: 0 4px 12px rgba(0, 86, 179, 0.2); }
        .btn-login:hover { background-color: #004494; transform: translateY(-1px); }
        .btn-signup { background-color: transparent; color: #495057; border: 1px solid #dee2e6; font-size: 14px; margin-bottom: 16px; }
        .btn-signup:hover { background-color: #f1f3f5; }
        
        /* ê³„ì • ì°¾ê¸° ë§í¬ ìŠ¤íƒ€ì¼ */
        .find-links { margin-top: 20px; font-size: 13px; color: #adb5bd; }
        .find-links a { cursor: pointer; text-decoration: none; color: #adb5bd; margin: 0 10px; transition: 0.2s; }
        .find-links a:hover { color: #868e96; text-decoration: underline; }

        .btn-admin-mode { background-color: transparent; color: #ced4da; font-size: 11px; font-weight: 400; text-decoration: underline; border: none; padding: 5px; margin-top: 15px; }
        .btn-admin-mode:hover { color: #adb5bd; }
        
        .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #999; line-height: 1.8; }
        .footer a { color: #888; text-decoration: none; margin: 0 5px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="login-container">
        <div class="logo">EDUMAKER</div>
        <div class="sub-title">ê°•ì‚¬ ì „ìš© ê´€ë¦¬ ì‹œìŠ¤í…œ</div>

        <div class="input-group">
            <label for="email">ì´ë©”ì¼ ì£¼ì†Œ</label>
            <input type="email" id="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>

        <div class="input-group">
            <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
        </div>

        <div class="btn-group">
            <button class="btn-login" id="loginBtn">ê°•ì‚¬ ë¡œê·¸ì¸</button>
            <button class="btn-signup" id="signupBtn">ì‹ ê·œ ê°•ì‚¬ íšŒì›ê°€ì…</button>
            
            <div class="find-links">
                <a id="findIdBtn">ì•„ì´ë”” ì°¾ê¸°</a>
                <span style="color:#eee">|</span>
                <a id="findPwBtn">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
            </div>

            <button class="btn-admin-mode" id="adminBtn">ê´€ë¦¬ì ëª¨ë“œ ì ‘ì†</button>
        </div>
    </div>

    <div class="footer">
        <div class="footer-links">
            <a onclick="openPrivacyPopup()">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
            <span class="footer-divider">|</span>
            <a href="mailto:edumaker08@gmail.com">ì´ë©”ì¼ ë¬¸ì˜</a>
            <span class="footer-divider">|</span>
            <a href="http://pf.kakao.com/_xhSsRb" target="_blank">ì¹´ì¹´ì˜¤í†¡ ì±„ë„</a>
        </div>
        <div class="copyright">
            Â© 2026 EDUMAKER. All Rights Reserved.
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDKA0GjAlOF826TZl49y67H4oz8nMW_Jbw",
            authDomain: "edumaker-teacher-d97ba.firebaseapp.com",
            projectId: "edumaker-teacher-d97ba",
            storageBucket: "edumaker-teacher-d97ba.firebasestorage.app",
            messagingSenderId: "532708143359",
            appId: "1:532708143359:web:89b9933da4c868127ddcca",
            measurementId: "G-JJ1TF77VBJ"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // ğŸ”¥ [ê³µí†µ] íŒì—…ì°½ ì¤‘ì•™ ì •ë ¬ í•¨ìˆ˜
        function openPopup(url, name, width, height) {
            const left = (window.screen.width / 2) - (width / 2);
            const top = (window.screen.height / 2) - (height / 2);
            window.open(url, name, `width=${width},height=${height},left=${left},top=${top},scrollbars=no,resizable=no`);
        }

        // 1. ì•„ì´ë”” ì°¾ê¸° (find_id.html í˜¸ì¶œ)
        document.getElementById('findIdBtn').addEventListener('click', () => {
            openPopup('find_id.html', 'FindID', 450, 500);
        });

        // 2. ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° (find_pw.html í˜¸ì¶œ)
        document.getElementById('findPwBtn').addEventListener('click', () => {
            openPopup('find_pw.html', 'FindPW', 450, 580);
        });

        // ë¡œê·¸ì¸ ë¡œì§
        document.getElementById('loginBtn').addEventListener('click', async () => {
            const email = document.getElementById('email').value;
            const pw = document.getElementById('password').value;
            if(!email || !pw) { alert("ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, pw);
                window.location.href = (userCredential.user.email === "help@edumaker.kr") ? "admin.html" : "teacher_main.html";
            } catch (error) { alert("ë¡œê·¸ì¸ ì‹¤íŒ¨. ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”."); }
        });

        // ê´€ë¦¬ì ëª¨ë“œ ë¡œì§
        document.getElementById('adminBtn').addEventListener('click', async () => {
            const email = document.getElementById('email').value;
            const pw = document.getElementById('password').value;
            if (email === "help@edumaker.kr" && pw === "123456") {
                try {
                    await signInWithEmailAndPassword(auth, email, pw);
                    alert("ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.");
                    window.location.href = "admin.html";
                } catch (error) { alert("ì¸ì¦ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."); }
            } else { alert("ê´€ë¦¬ì ê³„ì • ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."); }
        });

        document.getElementById('signupBtn').addEventListener('click', () => { window.location.href = 'signup.html'; });

        window.openPrivacyPopup = function() {
            openPopup('privacy.html', 'PrivacyPolicy', 600, 800);
        }
    </script>
</body>
</html>